load "includes/sys"

def func() s64
    defer { puts("you") }
    defer { puts("Hello") }
    return 53

def strlen(x char*) u64 => i=x; while *x {++x} x-i

#extern puts(u8*) s32
def puts(x u8*) s32
    xl = strlen(x)
    write(STDOUT, x, xl)
    write(STDOUT, "\n", 1)
    return xl

def main() s64
    i = 0

    # Single statement or compound statement
    defer
        puts("5th")
    defer
        puts("4th")
        i = 52
    k = func()
    defer
        puts("3rd")
        i = 2
    defer 
        puts("2nd")
    puts("1st")

    #return k - i
    return puts("Marcus")
