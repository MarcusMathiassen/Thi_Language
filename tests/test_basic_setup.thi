load "includes/cstdio"
load "includes/cstdlib"

# This is a comment
def main(argc s32, argv u8**) s32
    i = 1
    k = &i
    
    *k = 42
    for x = 0 x < argc ++x
        printf("%s\n", *(argv + sizeof (*argv) * x))
        printf("%s\n", argv[x])
    
    v v2
    v.x = 53.35
    *(&v + 8) = 14.01
    f = 3.0
    printf("v.x = %f v.x = %f\n", v.x, v.y)
    x = 5.0
    f = 3.0
    printf("f = %f x = %f\n", f, x)
    
    c = 'H'
    printf("c = %c, sizeof c = %d\n", c, sizeof c)
    printf("typeof v = %s\n", typeof v)
    printf("typeof v.x = %s\n", typeof v.x)
    printf("typeof v.y = %s\n", typeof v.y)
    printf("typeof f = %s\n", typeof f)

    if argv
        puts("argv is not null")

    if sizeof c != 1
        puts("Hey! sizeof c should be 1!")
    
    printf("typeof x = %s\n", typeof x)
    change(k)
    return i - 52

def change(x s64*)
    *x = 53

def v2
    x f64
    y f64
