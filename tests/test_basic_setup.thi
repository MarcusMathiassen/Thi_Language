load "includes/cstdio.thi"

def main () s32
    
    type ii
        i s32
        k s32
        v vec2

    f := fopen("x64.asm", "w")
    fputs("Hello this is a test", *f)
    fclose(*f)

    v ii
    puts("Hello world!")
    i int = 1
    ret N + add(1,2) + N + mul(2, 3) - M

N :: 6

type vec2
    x f32
    y f32

def add(a s32, b s32) s32
    M :: 2
    def mul(a s32, b s32) s32
        ret a * b
    ret a + b
